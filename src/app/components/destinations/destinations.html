<!-- Destinos Section -->
<section id="destinos" class="destinations">
    <div class="container">
        <div class="destinations-header">
            <p class="destinations-eyebrow">Explora Andahuaylas</p>
            <h2 class="section-title">Lugares Turísticos</h2>
            <p class="destinations-description">
                Vive rutas donde la arqueología sigue viva, la naturaleza muestra sus contrastes y la gastronomía local acompaña cada momento.
            </p>
            <div class="destinations-stats">
                <article class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-route"></i>
                    </div>
                    <div class="stat-content">
                        <h4>+120 km</h4>
                        <p>De caminos escénicos conectados</p>
                    </div>
                </article>
                <article class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <div class="stat-content">
                        <h4>3 500 msnm</h4>
                        <p>Altura promedio de las travesías</p>
                    </div>
                </article>
                <article class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                    <div class="stat-content">
                        <h4>Todo el año</h4>
                        <p>Salidas con clima templado asegurado</p>
                    </div>
                </article>
            </div>
        </div>

        @if (isLoading()) {
            <div class="loading-container">
                <div class="spinner"></div>
                <p>Cargando destinos increíbles...</p>
            </div>
        } @else {
            <div class="destinations-grid">
                @for (destino of featuredDestinos(); track destino.$id) {
                    <article class="destination-card" [class.featured]="destino.destacado">
                        <div class="card-media" [style.background-image]="'linear-gradient(135deg, rgba(0, 61, 51, 0.2), rgba(0, 61, 51, 0.6)), url(' + (destino.imagen || 'assets/placeholder.jpg') + ')'">
                            <span class="card-badge">
                                <i class="fas fa-map-marker-alt"></i>
                                {{ destino.categorias[0] || 'Aventura' }}
                            </span>
                            <div class="media-meta">
                                <span><i class="fas fa-route"></i>{{ destino.distancia || 'Cerca' }}</span>
                                <span><i class="fas fa-clock"></i>{{ destino.duracion || 'Flexible' }}</span>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="card-title">
                                <h3>{{ destino.nombre }}</h3>
                                <span>S/. {{ destino.precio }}</span>
                            </div>
                            <p class="card-text">
                                {{ destino.descripcion | slice:0:120 }}{{ destino.descripcion.length > 120 ? '...' : '' }}
                            </p>
                            <div class="card-metrics">
                                <div class="metric">
                                    <i class="fas fa-mountain"></i>
                                    <div>
                                        <span class="metric-label">Dificultad</span>
                                        <span class="metric-value">{{ destino.dificultad || 'Moderada' }}</span>
                                    </div>
                                </div>
                                <div class="metric">
                                    <i class="fas fa-star"></i>
                                    <div>
                                        <span class="metric-label">Valoración</span>
                                        <span class="metric-value">{{ destino.rating || 5 }}/5</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-tags">
                                @for (tag of destino.categorias; track tag) {
                                    <span>{{ tag }}</span>
                                }
                            </div>
                        </div>
                    </article>
                } @empty {
                    <div class="no-data">
                        <p>No hay destinos destacados en este momento. ¡Vuelve pronto!</p>
                    </div>
                }
            </div>
        }

        <div class="destinations-footer">
            <p>
                ¿Necesitas ayuda para elegir?
                <span>Personalizamos tu itinerario según tu ritmo y presupuesto.</span>
            </p>
            <button class="cta-button" type="button" (click)="scrollToContact()">
                <i class="fas fa-comments"></i>
                Hablar con un asesor
            </button>
        </div>
    </div>
</section>

